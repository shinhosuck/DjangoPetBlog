{% extends "blog/base.html" %}


 <title>
{% block title %}
    {{ user.username}}'s Posts
{% endblock title %}
</title>


{% block content %}
    <div class="post-detail-row">

        <div class="post-detail-wrapper">
            <div class="post-detail-header-title">
                <h2>My posts</h2>
            </div>

            {% for post in posts %}
            <div class="post-detail-content-wrapper">
                <div class="post-detail-img-container">
                    <img src="{{ post.post_image.url }}" alt="">
                </div>
                <div class="post-detail-content">
                    <div class="post-detail-topic-link">
                        <a href="{% url 'blog:posts-in-topic' post.topic.pk%}">
                            {{ post.topic }}
                            <i class="fa fa-chevron-right"></i>
                        </a>
                    </div>
                    <h6 class="post-detail-title">{{ post.title }}</h6>
                    <div class="post-detail-text-wrapper">
                        <p class="post-detail-date">
                            <i class="fas fa-calendar post-detail-calendar"></i>
                            <span>{{ post.date_posted|date:"N, d, Y"|truncatechars:14}}</span>
                        </p>
                        <a class="post-detail-date-thumbs" href="{% url 'blog:post-like' post.pk %}">
                            <i class="fas fa-thumbs-up post-detail-thumbs-up"></i>
                            <span class="topic-likes-count">{{ post.likes.count}}</span>
                        </a>
                    </div>
                </div>
                <p class="post-detail-text">{{ post.content }}</p>
            </div>




            {% comment %}
            <div class="my-posts-content-wrapper">
                <div class="my-posts-img-container">
                    <img src="{{ post.post_image.url }}" alt="">
                </div>
                <div class="my-posts-content">
                    <a class="my-posts-topic-link" href="{% url 'blog:posts-in-topic' post.topic.pk%}">
                        {{ post.topic }}
                        <i class="fa fa-chevron-right"></i>
                    </a>
                    <p>
                        <i class="fas fa-calendar"></i>
                        <span>{{ post.date_posted|date:"N, d, Y"|truncatechars:14}}</span>
                    </p>
                    <p>
                        <i class="fas fa-thumbs-up my-posts-thumbs-up"></i>
                        <span class="topic-likes-count">{{ post.likes.count}}</span>
                    </p>
                    <h6>{{ post.title }}</h6>
                    <a class="my-posts-update" href="{% url 'blog:update-post' post.pk %}">Update</a>
                </div>
                <p class="my-posts-text">{{ post.content }}</p>
            </div>
            {% endcomment %}
            {% endfor %}
           
        </div>

        <div class="post-right-side-container">
            <h5 class="latest-post-title-header">Latest Posts</h5>
            <div class="latest-post-wrapper">
                {% for post in all_posts %}
                <div class="latest-posts">
                    <a class="latest-post-topic-link" href="{% url 'blog:posts-in-topic' post.topic.pk%}">
                        {{ post.topic }}
                        <i class="fa fa-chevron-right"></i>
                    </a>
                    <p class="latest-post-date">
                        <i class="fas fa-calendar topic-calendar-icon"></i>
                        {{ post.date_posted|date:"N, d, Y"}}
                    </p>
                    <h5 class="latest-post-title">{{ post.title }}</h5>
                    <p class="latest-post-content">{{ post.content|truncatechars:100}}</p>
                    <a href="{% url 'blog:post-detail' post.pk %}" class="latest-post-detail">
                        Read post
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>

    </div>
{% endblock content %}